From 9c3dcc88df68adc1acda3faa2118917b038574c5 Mon Sep 17 00:00:00 2001
From: Alexandre Derumier <aderumier@odiso.com>
Date: Mon, 14 May 2018 16:27:22 +0200
Subject: [PATCH 2/4] addons scripts : fix ENV for interfaces options

This is a bug currently, where env vars with interfaces options
were not reset between interfaces

https://github.com/CumulusNetworks/ifupdown2/issues/49
---
 ifupdown2/ifupdown/ifupdownmain.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ifupdown2/ifupdown/ifupdownmain.py b/ifupdown2/ifupdown/ifupdownmain.py
index 3c72429..e818880 100644
--- a/ifupdown2/ifupdown/ifupdownmain.py
+++ b/ifupdown2/ifupdown/ifupdownmain.py
@@ -1556,7 +1556,7 @@ class ifupdownMain(ifupdownBase):
         cenv = None
         iface_env = ifaceobj.get_env()
         if iface_env:
-            cenv = os.environ
+            cenv = dict(os.environ)
             if cenv:
                 cenv.update(iface_env)
             else:
-- 
2.11.0

